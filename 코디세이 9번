// decision.c
#include <stdio.h>
#include <math.h>

#define MAX_MEMBER 5
#define FIELD_COUNT 9

// í›ˆë ¨ ë¶„ì•¼ ENUM
enum Field {
    ì²´ë ¥, ì§€ì‹, ìê¸°ê´€ë¦¬, íŒ€ì›Œí¬, í•œêµ­ì–´, ë³´ì»¬, ëŒ„ìŠ¤, ë¹„ì£¼ì–¼, ì—°ê¸°
};

// í›ˆë ¨ ë¶„ì•¼ ì´ë¦„
const char *field_names[FIELD_COUNT] = {
    "ì²´ë ¥", "ì§€ì‹", "ìê¸°ê´€ë¦¬", "íŒ€ì›Œí¬", "í•œêµ­ì–´",
    "ë³´ì»¬", "ëŒ„ìŠ¤", "ë¹„ì£¼ì–¼", "ì—°ê¸°"
};

// íƒì›”í•œ ì ìˆ˜ëŠ” ì‚¬ìš©ì ì„¤ì • ê°€ëŠ¥
int EXCELLENT_SCORE = 95;

int main() {
    int team[MAX_MEMBER][FIELD_COUNT];
    int team_avg[FIELD_COUNT] = {0};
    int total_scores[MAX_MEMBER] = {0};
    int team_total = 0;
    int team_avg_total;
    int min_score;
    int i, j;

    printf("íŒ€ í‰ê·  í†µê³¼ ì ìˆ˜ ì…ë ¥ (11ì  ë§Œì ): ");
    scanf("%d", &team_avg_total);

    printf("ê°œì¸ ìµœì†Œ ì ìˆ˜ ì…ë ¥ (11ì  ë§Œì ): ");
    scanf("%d", &min_score);

    printf("íƒì›”í•œ ì ìˆ˜ ì…ë ¥ (95~100ì ): ");
    scanf("%d", &EXCELLENT_SCORE);

    // ì ìˆ˜ ì…ë ¥
    for (i = 0; i < MAX_MEMBER; i++) {
        printf("\n--- %dë²ˆ ë©¤ë²„ ì ìˆ˜ ì…ë ¥ ---\n", i + 1);
        int member_total = 1; // ìµœì†Œ 1ì  ë³´ì¥
        for (j = 0; j < FIELD_COUNT; j++) {
            int score;
            printf("%s ì ìˆ˜ ì…ë ¥ (0~11): ", field_names[j]);
            scanf("%d", &score);

            // ê°œì¸ ìµœì†Œ ì ìˆ˜ ë¯¸ë‹¬ ì²´í¬
            if (score < min_score) {
                printf("âš ï¸ '%s' ì ìˆ˜ê°€ ê°œì¸ ìµœì†Œ ì ìˆ˜ %dì ì— ë¯¸ë‹¬í•©ë‹ˆë‹¤.\n", field_names[j], min_score);
                printf("â†’ íŒ€ ì „ì²´ê°€ í•´ë‹¹ ë¶„ì•¼ë¥¼ ë‹¤ì‹œ ì‘ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.\n");
                return 0;
            }

            // ì €ì¥
            team[i][j] = score;
            member_total += score;
            team_avg[j] += score;
        }
        total_scores[i] = member_total;
        team_total += member_total;
    }

    // íŒ€ í‰ê·  ì´ì 
    team_avg_total = team_total / MAX_MEMBER;

    // ìµœê³  ì ìˆ˜ ë©¤ë²„ í‰ê°€
    int final_score = 0;
    printf("\ní‰ê°€ ìœ„ì›ì¥ ì ìˆ˜ ì…ë ¥:\n");
    for (i = 0; i < FIELD_COUNT; i++) {
        int score;
        printf("%s ì ìˆ˜ ì…ë ¥ (0~11): ", field_names[i]);
        scanf("%d", &score);
        final_score += score;
    }
    final_score++; // ìµœì†Œ 1ì  ì œê³µ

    printf("\nâ–¶ ì´ì : %dì \n", final_score);

    // ë°ë·” ê²°ì •
    enum { DEBUT, FINAL_DECISION, RETEST, FAIL } result;
    switch (final_score / 10) {
        case 10:
        case 9:
            if (final_score >= EXCELLENT_SCORE) result = DEBUT;
            else result = FINAL_DECISION;
            break;
        case 8:
            result = RETEST;
            break;
        default:
            result = FAIL;
    }

    switch (result) {
        case DEBUT:
            printf("ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤. ë¬´ëŒ€ ë°ë·”ê°€ ê²°ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\n");
            break;
        case FINAL_DECISION:
            printf("ğŸ“ ë°ë·” ì¸ì¦ íŒ€ì˜ í‰ê°€ íšŒì˜ì—ì„œ ìµœì¢… ê²°ì •í•©ë‹ˆë‹¤.\n");
            break;
        case RETEST: {
            // 3ê°œ ê°€ì¥ ë‚®ì€ ë¶„ì•¼ ì°¾ê¸°
            int scores[FIELD_COUNT];
            for (i = 0; i < FIELD_COUNT; i++) {
                scores[i] = 0;
                for (j = 0; j < MAX_MEMBER; j++) {
                    scores[i] += team[j][i];
                }
            }

            // ë‹¨ìˆœ ì„ íƒ ì •ë ¬ë¡œ ê°€ì¥ ë‚®ì€ ì ìˆ˜ 3ê°œ ì°¾ê¸°
            for (i = 0; i < FIELD_COUNT - 1; i++) {
                for (j = i + 1; j < FIELD_COUNT; j++) {
                    if (scores[i] > scores[j]) {
                        int temp = scores[i];
                        scores[i] = scores[j];
                        scores[j] = temp;

                        const char *tmp_name = field_names[i];
                        field_names[i] = field_names[j];
                        field_names[j] = tmp_name;
                    }
                }
            }

            printf("ğŸ“Œ 30ì¼ ì´í›„ì— í†µê³¼ ì ìˆ˜ê°€ ê°€ì¥ ë‚®ì€ ë¶„ì•¼ ì¬ì‘ì‹œ í•„ìš”:\n");
            for (i = 0; i < 3; i++) {
                printf("- %s\n", field_names[i]);
            }
            break;
        }
        case FAIL:
            printf("â›” ë°ë·” ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\n");
            break;
    }

    return 0;
}
